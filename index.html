<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Organizador de Compras</title>
  <style>
    body { font-family: Arial, sans-serif; margin-bottom:60px; }
    nav { text-align: center; margin-bottom: 20px; }
    nav button { margin: 5px; font-size: 18px; padding: 5px 10px; border-radius: 25px; }
    h1 { text-align: center; }
    input, button { padding: 5px; font-size: 14px; border-radius: 12px; }
    input[type="text"], input[type="number"] { 
      width: 50%; 
      margin: 8px 0; 
      text-align: right; 
      border-radius: 12px;
    }
    #listaCompras, #itensSugeridos { list-style-type: none; padding: 0; }
    li { margin: 15px 0; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; }
    .comprado { text-decoration: line-through; color: green; }
    .erro { color: red; font-size: 14px; margin-top: 5px; }
    .fotoProduto { width: 50px; height: 50px; object-fit: cover; margin-right:5px; border-radius:4px; }
    .qtdControles button { margin: 0 2px; font-size: 14px; border-radius: 10px; }
    .iconBtn { background:none; border:none; cursor:pointer; font-size:16px; margin: 0 4px; }
    #catalogoGrid { 
      display:grid; 
      grid-template-columns: repeat(3, 1fr); 
      gap:15px; 
      margin-top:10px;
    }
    .produtoCatalogo { 
      background:#f0f0f0; 
      padding:8px; 
      text-align:center; 
      cursor:pointer; 
      border-radius:8px; 
      width:2cm; 
      height:2cm; 
      display:flex; 
      flex-direction:column; 
      justify-content:center; 
      align-items:center;
    }
    .produtoCatalogo:hover { background:#ddd; }
    #modal { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); display:none; justify-content:center; align-items:center; z-index:1000; }
    #modalContent { background:#fff; padding:20px; border-radius:8px; }
    #campoPesquisa { margin:10px auto; display:block; width:50%; border-radius: 12px; padding: 8px; }
    .total {
      font-weight: bold;
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      background: #f0f0f0;
      padding: 10px;
      box-shadow: 0 -2px 5px rgba(0,0,0,0.2);
      text-align: center;
      z-index: 999;
    }
    .produtoCatalogo img { width: 100%; height: 100%; object-fit: cover; border-radius:5px; }
  </style>
</head>
<body>
  <h1>Organizador de Compras</h1>
  <nav>
    <button onclick="abrirAba('inicio')">üè† In√≠cio</button>
    <button onclick="abrirAba('catalogo')">üõí Cat√°logo</button>
  </nav>

  <!-- INICIO -->
  <div id="abaInicio">
    <h2>Adicione um item</h2>
    <input type="text" id="itemInput" placeholder="Digite o nome do item">
    <input type="text" id="precoInput" placeholder="Pre√ßo (R$)" oninput="mascaraMoeda(this)">
    <input type="number" id="quantidadeInput" placeholder="Quantidade" step="1" min="1">
    <label for="fotoInput" class="iconBtn" style="cursor:pointer;">
      üì∑ 
    </label>
    <input type="file" id="fotoInput" accept="image/*" capture="camera" style="display:none;">
    <button id="adicionarBtn">‚ûï</button>
    <p id="mensagemErro" class="erro"></p>

    <h2>Lista de Compras</h2>
    <ul id="listaCompras"></ul>
  </div>

  <!-- CATALOGO -->
  <div id="abaCatalogo" style="display:none;">
    <h2>Cat√°logo de Produtos</h2>
    <input type="text" id="campoPesquisa" placeholder="Pesquisar produto..." onkeyup="filtrarCatalogo()">
    <div id="catalogoGrid">
      <!-- Itens do cat√°logo ser√£o inseridos aqui -->
    </div>
  </div>

  <!-- MODAL -->
  <div id="modal">
    <div id="modalContent">
      <h3 id="modalTitulo"></h3>
      <p>Pre√ßo (R$): <input type="text" id="modalPreco" placeholder="" oninput="mascaraMoeda(this)"></p>
      <p>Quantidade: <input type="number" id="modalQtd" min="1" value="1"></p>
      <button onclick="confirmarModal()">‚úÖ Confirmar</button>
      <button onclick="fecharModal()">‚ùå Cancelar</button>
    </div>
  </div>

  <!-- TOTAL FIXO -->
  <div class="total">
    <p>Total Estimado: R$ <span id="total">0,00</span></p>
  </div>

  <script>
    // C√≥digo JavaScript completo permanece inalterado para funcionalidades como abas, cat√°logo, modal, e persist√™ncia.
  </script>
</body>
</html>
